---
# Python
virtualenv_python: python3
virtualenv_command: virtualenv

# Repository data
repo_install_method: pull
repo_version: master
repo_dest_root: /opt
repo_dest: '{{ repo_dest_root }}/fairdata-download-service'

# Volume mounts
cache_root: '{{ download_cache_root | default("/opt/fairdata-download-service/download") }}'
ida_storage_root: '{{ download_ida_storage_root | default("/opt/fairdata-download-service/ida-data") }}'

# Download application configuration
application_runtime_directory: '/run/fairdata-download-service'
application_config_directory: '/etc/fairdata-download-service'
application_log_directory: '/var/log/fairdata-download-service'
application_service_settings: '{{ application_config_directory }}/settings.cfg'
application_user: download
application_group: download
application_environment: development
application_rabbitmq_host: localhost
application_rabbitmq_vhost: download
application_rabbitmq_user: download
application_rabbitmq_pass: download
application_jwt_secret: secret

host: 0.0.0.0
public_port: 4430
internal_port: 4431

# Rabbitmq config

# SystemD services
daemonize_server: '{{ download_daemonize_server | default(False) }}'
daemonize_generator: '{{ download_daemonize_generator | default(False) }}'

# Nginx config
nginx_url_prefix: /v1
nginx_custom_certificates: False
nginx_ssl_certificate: '{{ download_nginx_ssl_certificate | default("/etc/pki/tls/certs/download.local.crt") }}'
nginx_ssl_certificate_key: '{{ download_nginx_ssl_certificate_key | default("/etc/pki/tls/private/download.local.key") }}'

# Gunicorn config
gunicorn_socket: '{{ application_runtime_directory }}/fairdata-download-server.sock'

# Celery config
celeryd_concurrency: 3
celeryd_log_level: 'INFO'
